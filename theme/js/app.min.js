var stop_animation=false;var current_frame=0;(function(a){a.fn.makeHotspot=function(b){var d=a.extend({},b);var c=a(this);a(d.hotspots).each(function(f,g){var e=a("<div></div>").addClass("hs-spot-object").data("type","spot").data("x",g.x).data("y",g.y).data("width",30).data("height",30).data("popup-position",g.popup).data("visible","visible").data("tooltip-auto-width","true");e.append(a("<div data-frames='"+g.frames+"'></div>").addClass("animation-holder").css("background","url("+g.src+") no-repeat left top").css("width",g.width).css("height",g.height));c.append(e)});this.hotspot({show_on:"mouseover"});a(".hs-spot-object").on("tooltip-show",function(){var e=a(this).find(".animation-holder");a(this).find(".animation-holder").jani({frameWidth:e.width(),frameHeight:e.height(),speed:900,totalFrames:e.data("frames"),loop:false,delay:1000});a(this).find(".animation-holder").jani.play();stop_animation=true});a(".hs-spot-object").on("tooltip-hide",function(){stop_animation=false});a("#title-box").text(d.title);current_frame=46}})(jQuery);function initialize(){var b=new google.maps.LatLng(50.4383,30.357714);var c={center:b,zoom:16,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:true,zoomControl:true,};var d=new google.maps.Map(document.getElementById("map_canvas"),c);var a=new google.maps.Marker({position:b,map:d,title:"Наш отдел в ТЦ 4ROOM"})}function animateSpots(){current_frame=0;setInterval(function(){if(stop_animation&&current_frame==0){return false}if(current_frame<10){$(".hs-spot-hot").css("background-position","center -"+(current_frame*56)+"px")}current_frame++;if(current_frame>=50){current_frame=0}},75)};