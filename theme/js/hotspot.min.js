(function(b){function a(c,d){this.options=d;this.root=c}a.prototype.init=function(){var f="",e="",g="auto",d="",h="",c,i;f+='<img src="'+this.root.find("img").first().attr("src")+'" class="hsmap-image">';this.root.find(".hs-spot-object").each(function(){if(b(this).data("type")=="rect"){e="hs-rect";c=b(this).data("x");i=b(this).data("y")}else{e="hs-spot";c=b(this).data("x")-b(this).data("width")/2;i=b(this).data("y")-b(this).data("height")/2}if(b(this).data("visible")=="visible"){d="visible"}else{d=""}if(b(this).data("tooltip-auto-width")==false){g=b(this).data("tooltip-width")+"px"}else{g="auto"}h=b(this).data("popup-position");f+='<div class="'+e+" "+d+" "+h+' hs-spot-object" style="left: '+c+"px; top: "+i+"px; width: "+b(this).data("width")+"px; height: "+b(this).data("height")+'px;">';f+='	<div class="hs-spot-hot"></div>';f+='	<div class="hs-spot-tooltip-outer">';f+='		<div class="hs-tooltip-buffer"></div>';f+='		<div class="hs-tooltip-wrap" style="width: '+g+';">';f+='			<div class="hs-tooltip">';f+=b(this).html();f+="			</div>";f+="		</div>";f+="	</div>";f+="</div>"});this.root.html(f);this.root.removeClass("hs-loading");this.root.addClass(this.options.show_on);this.root.addClass(this.options.color_scheme);if(this.options.transparent_spots){this.root.addClass("transparent-spots")}if(this.options.show_on=="click"){b(".hs-spot-object").on("click",function(){b(this).toggleClass("visible-tooltip");b(this).trigger("tooltip-show")})}if(this.options.show_on=="mouseover"){b(".hs-spot-object").on("mouseover",function(){b(this).addClass("visible-tooltip");b(this).trigger("tooltip-show")});b(".hs-spot-object").on("mouseout",function(j){b(this).removeClass("visible-tooltip");b(this).trigger("tooltip-hide")})}this.root.addClass("hs-loaded")};b.fn.hotspot=function(c){var d={show_on:"mouseover",transparent_spots:true,color_scheme:"red"};O=b.extend(true,d,c);return this.each(function(){var e=new a(b(this),O);e.init()})}})(jQuery);